---
layout: main.njk
title: Explore Coffee Recipes
---

<h1 style="margin: 0;">{{ title }}</h1>

<p>Find your next favourite coffee recipe.</p>

<h2>Filters</h2>
<style>
    .filters {
        display: flex;
        margin-bottom: 1rem;
    }

    .filters div {
        flex: 0;
        margin-right: 1rem;
    }

    .filters label {
        font-weight: bold;
    }

    .filters select {
        margin-bottom: 1rem;
    }
</style>
<div class="filters">
    <div>
        <label for="method">Method</label><br>
        <select id="method">
            <option value="all">All Methods</option>
            <option value="aeropress">Aeropress</option>
            <option value="chemex">Chemex</option>
            <option value="french-press">French Press</option>
            <option value="v60">V60</option>
        </select>
    </div>
    <div>
        <label for="grinder">Grinder</label><br>
        <select id="grinder">
            <option value="all">All Grinders</option>
            <option value="comandante">Comandante</option>
            <option value="encore">Baratza Encore</option>
            <option value="wilfa">Wilfa Svart</option>
        </select>
    </div>
</div>

<script>
    function filterByMethod(method) {
        const cards = document.querySelectorAll('.card');
        cards.forEach(card => {
            if (method === 'all') {
                card.style.display = 'block';
            } else {
                if (card.dataset.method === method) {
                    card.style.display = 'block';
                } else {
                    card.style.display = 'none';
                }
            }
        });
    }

    document.querySelector('#method').addEventListener('change', function() {
        filterByMethod(this.value);
    });

    function filterByGrinder(grinder) {
        const cards = document.querySelectorAll('.card');
        cards.forEach(card => {
            if (grinder === 'all') {
                card.style.display = 'block';
            } else {
                if (card.dataset.grinder === grinder) {
                    card.style.display = 'block';
                } else {
                    card.style.display = 'none';
                }
            }
        });
    }

    document.querySelector('#grinder').addEventListener('change', function() {
        filterByGrinder(this.value);
    });
</script>

<style>
    .card-info {
        display: flex;
        flex-direction: column;
        justify-content: space-between;
    }
    .card-info img {
        width: initial;
    }
    .author-card {
        display: flex;
        align-items: center;
        flex: 1 50%;
        margin-bottom: 25px;
    }
</style>

<ul class="grid">
    {% for recipe in collections.recipes %}
        <li class="card" data-method="{{ recipe.data.method }}" data-grinder="{{ recipe.data.grinder }}">
            <a href="{{ recipe.url }}">
                <img src="{{ recipe.data.image }}" alt="{{ recipe.data.title }}">
                <div class="card-info">
                    <h3 style="flex: 0 30%;">{{ recipe.data.title }}</h3>
                    <div class="author-card">
                        <img class="u-photo profile-photo" src="https://jamesg.blog/assets/coffeeshop.jpeg" alt="Author">
                        <div>
                            <p style="font-size: 12px; margin: 0;">Written by</p>
                            <p style="margin: 0;">James' Coffee Blog</p>
                        </div>
                    </div>
                </div>
                <ul class="inner-card-list">
                    <li><time class="dt-duration" datetime="{{ recipe.data.duration_processed }}">{{ recipe.data.duration }}</time></li>
                    <li><data class="p-yield" value="{{ recipe.data.serves }}">{{ recipe.data.serves }} people</data></li>
                </ul>
            </a>
        </li>
    {% endfor %}
</ul>

<style>
    .grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        grid-gap: 1rem;
    }
</style>